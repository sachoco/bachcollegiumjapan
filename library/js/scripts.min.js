function updateViewportDimensions(){var e=window,t=document,n=t.documentElement,a=t.getElementsByTagName("body")[0],r=e.innerWidth||n.clientWidth||a.clientWidth,s=e.innerHeight||n.clientHeight||a.clientHeight;return{width:r,height:s}}function loadGravatars(){viewport=updateViewportDimensions(),viewport.width>=768&&jQuery(".comment img[data-gravatar]").each(function(){jQuery(this).attr("src",jQuery(this).attr("data-gravatar"))})}jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,a,r){return jQuery.easing[jQuery.easing.def](e,t,n,a,r)},easeInQuad:function(e,t,n,a,r){return a*(t/=r)*t+n},easeOutQuad:function(e,t,n,a,r){return-a*(t/=r)*(t-2)+n},easeInOutQuad:function(e,t,n,a,r){return(t/=r/2)<1?a/2*t*t+n:-a/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,a,r){return a*(t/=r)*t*t+n},easeOutCubic:function(e,t,n,a,r){return a*((t=t/r-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,a,r){return(t/=r/2)<1?a/2*t*t*t+n:a/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,a,r){return a*(t/=r)*t*t*t+n},easeOutQuart:function(e,t,n,a,r){return-a*((t=t/r-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,a,r){return(t/=r/2)<1?a/2*t*t*t*t+n:-a/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,a,r){return a*(t/=r)*t*t*t*t+n},easeOutQuint:function(e,t,n,a,r){return a*((t=t/r-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,a,r){return(t/=r/2)<1?a/2*t*t*t*t*t+n:a/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,a,r){return-a*Math.cos(t/r*(Math.PI/2))+a+n},easeOutSine:function(e,t,n,a,r){return a*Math.sin(t/r*(Math.PI/2))+n},easeInOutSine:function(e,t,n,a,r){return-a/2*(Math.cos(Math.PI*t/r)-1)+n},easeInExpo:function(e,t,n,a,r){return 0==t?n:a*Math.pow(2,10*(t/r-1))+n},easeOutExpo:function(e,t,n,a,r){return t==r?n+a:a*(-Math.pow(2,-10*t/r)+1)+n},easeInOutExpo:function(e,t,n,a,r){return 0==t?n:t==r?n+a:(t/=r/2)<1?a/2*Math.pow(2,10*(t-1))+n:a/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,a,r){return-a*(Math.sqrt(1-(t/=r)*t)-1)+n},easeOutCirc:function(e,t,n,a,r){return a*Math.sqrt(1-(t=t/r-1)*t)+n},easeInOutCirc:function(e,t,n,a,r){return(t/=r/2)<1?-a/2*(Math.sqrt(1-t*t)-1)+n:a/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,a,r){var s=1.70158,i=0,o=a;if(0==t)return n;if(1==(t/=r))return n+a;if(i||(i=.3*r),o<Math.abs(a)){o=a;var s=i/4}else var s=i/(2*Math.PI)*Math.asin(a/o);return-(o*Math.pow(2,10*(t-=1))*Math.sin(2*(t*r-s)*Math.PI/i))+n},easeOutElastic:function(e,t,n,a,r){var s=1.70158,i=0,o=a;if(0==t)return n;if(1==(t/=r))return n+a;if(i||(i=.3*r),o<Math.abs(a)){o=a;var s=i/4}else var s=i/(2*Math.PI)*Math.asin(a/o);return o*Math.pow(2,-10*t)*Math.sin(2*(t*r-s)*Math.PI/i)+a+n},easeInOutElastic:function(e,t,n,a,r){var s=1.70158,i=0,o=a;if(0==t)return n;if(2==(t/=r/2))return n+a;if(i||(i=.3*r*1.5),o<Math.abs(a)){o=a;var s=i/4}else var s=i/(2*Math.PI)*Math.asin(a/o);return 1>t?-.5*o*Math.pow(2,10*(t-=1))*Math.sin(2*(t*r-s)*Math.PI/i)+n:o*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*r-s)*Math.PI/i)*.5+a+n},easeInBack:function(e,t,n,a,r,s){return void 0==s&&(s=1.70158),a*(t/=r)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,a,r,s){return void 0==s&&(s=1.70158),a*((t=t/r-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,a,r,s){return void 0==s&&(s=1.70158),(t/=r/2)<1?a/2*t*t*(((s*=1.525)+1)*t-s)+n:a/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,a,r){return a-jQuery.easing.easeOutBounce(e,r-t,0,a,r)+n},easeOutBounce:function(e,t,n,a,r){return(t/=r)<1/2.75?7.5625*a*t*t+n:2/2.75>t?a*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?a*(7.5625*(t-=2.25/2.75)*t+.9375)+n:a*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,a,r){return r/2>t?.5*jQuery.easing.easeInBounce(e,2*t,0,a,r)+n:.5*jQuery.easing.easeOutBounce(e,2*t-r,0,a,r)+.5*a+n}});var $=jQuery;$.fn.eventCalendar=function(e){function t(e,t){return e.date.toLowerCase()>t.date.toLowerCase()?1:-1}function n(e,t,n){var a=$("<div class='eventsCalendar-slider'></div>"),s=$("<div class='eventsCalendar-monthWrap'></div>"),i=$("<div class='eventsCalendar-currentTitle'><a href='#' class='monthTitle'></a></div>"),o=$("<a href='#' class='arrow prev'><span>"+u.txt_prev+"</span></a><a href='#' class='arrow next'><span>"+u.txt_next+"</span></a>");if($eventsCalendarDaysList=$("<ul class='eventsCalendar-daysList'></ul>"),date=new Date,l.wrap.find(".eventsCalendar-slider").size()?l.wrap.find(".eventsCalendar-slider").append(s):(l.wrap.prepend(a),a.append(s)),l.wrap.find(".eventsCalendar-monthWrap.currentMonth").removeClass("currentMonth").addClass("oldMonth"),s.addClass("currentMonth").append(i,$eventsCalendarDaysList),"current"===e)day=date.getDate(),a.append(o);else{date=new Date(l.wrap.attr("data-current-year"),l.wrap.attr("data-current-month"),1,0,0,0),day=0,moveOfMonth=1,"prev"===e&&(moveOfMonth=-1),date.setMonth(date.getMonth()+moveOfMonth);var d=new Date;date.getMonth()===d.getMonth()&&(day=d.getDate())}var t=date.getFullYear(),c=(new Date).getFullYear(),n=date.getMonth(),v=n+1;"current"!=e&&r(u.eventsLimit,t,n,!1,e),l.wrap.attr("data-current-month",n).attr("data-current-year",t),i.find(".monthTitle").html(t+"."+u.monthNames[n]);var p=32-new Date(t,n,32).getDate(),h=[];if(u.showDayAsWeeks){if($eventsCalendarDaysList.addClass("showAsWeek"),u.showDayNameInCalendar){$eventsCalendarDaysList.addClass("showDayNames");var f=0;for(u.startWeekOnMonday&&(f=1);7>f;f++)h.push('<li class="eventsCalendar-day-header">'+u.dayNamesShort[f]+"</li>"),6===f&&u.startWeekOnMonday&&h.push('<li class="eventsCalendar-day-header">'+u.dayNamesShort[0]+"</li>")}dt=new Date(t,n,1);var w=dt.getDay();for(u.startWeekOnMonday&&(w=dt.getDay()-1),0>w&&(w=6),f=w;f>0;f--)h.push('<li class="eventsCalendar-day empty"></li>')}for(dayCount=1;p>=dayCount;dayCount++){var m="";day>0&&dayCount===day&&t===c&&(m="today"),h.push('<li id="dayList_'+dayCount+'" rel="'+dayCount+'" class="eventsCalendar-day '+m+'"><a href="#">'+dayCount+"</a></li>")}$eventsCalendarDaysList.append(h.join("")),a.css("height",s.height()+"px")}function a(e){var t=e.length,n=e.charAt(t-1),a;return a=2===t&&"1"===e.charAt(0)?"th":"1"===n?"st":"2"===n?"nd":"3"===n?"rd":"th",e+a}function r(e,t,n,a,r){var e=e||0,t=t||"",a=a||"";if("undefined"!=typeof n)var n=n;else var n="";l.wrap.find(".eventsCalendar-loading").fadeIn(),u.jsonData?(u.cacheJson=!0,l.eventsJson=u.jsonData,s(l.eventsJson,e,t,n,a,r)):u.cacheJson&&r?s(l.eventsJson,e,t,n,a,r):$.getJSON(u.eventsjson+"?limit="+e+"&year="+t+"&month="+n+"&day="+a,function(i){l.eventsJson=i,s(l.eventsJson,e,t,n,a,r)}).error(function(){o("error getting json: ")}),a>""&&(l.wrap.find(".current").removeClass("current"),l.wrap.find("#dayList_"+a).addClass("current"))}function s(e,n,r,s,i,o){directionLeftMove="-="+l.directionLeftMove,eventContentHeight="auto",subtitle=l.wrap.find(".eventsCalendar-list-wrap .eventsCalendar-subtitle"),o?(subtitle.html(""!=i?u.txt_SpecificEvents_prev+u.monthNames[s]+" "+a(i)+" "+u.txt_SpecificEvents_after:u.txt_SpecificEvents_prev+u.monthNames[s]+" "+u.txt_SpecificEvents_after),"prev"===o?directionLeftMove="+="+l.directionLeftMove:("day"===o||"month"===o)&&(directionLeftMove="+=0",eventContentHeight=0)):(subtitle.html(u.txt_NextEvents),eventContentHeight="auto",directionLeftMove="-=0"),l.wrap.find(".eventsCalendar-list").animate({opacity:u.moveOpacity,left:directionLeftMove,height:eventContentHeight},u.moveSpeed,function(){l.wrap.find(".eventsCalendar-list").css({left:0,height:"auto"}).hide();var a=[];if(e=$(e).sort(t),e.length){var o="";u.showDescription||(o="hidden");var d="_self";u.openEventInNewWindow&&(d="_target");var c=0;$.each(e,function(e,t){if("human"==u.jsonDateFormat)var v=t.date.split(" "),p=v[0].split("-"),h=v[1].split(":"),f=p[0],w=parseInt(p[1])-1,m=parseInt(p[2]),y=parseInt(w)+1,C=h[0],M=h[1],g=h[2],p=new Date(f,w,m,C,M,g);else var p=new Date(parseInt(t.date)),f=p.getFullYear(),w=p.getMonth(),m=p.getDate(),y=w+1,C=p.getHours(),M=p.getMinutes();if(parseInt(M)<=9&&(M="0"+parseInt(M)),(0===n||n>c)&&!(s!==!1&&s!=w||""!=i&&i!=m||""!=r&&r!=f))if(s===!1&&p<new Date);else{if(eventStringDate=m+"/"+y+"/"+f,t.url)var D='<a href="'+t.url+'" target="'+d+'" class="eventTitle">'+t.title+"</a>";else var D='<span class="eventTitle">'+t.title+"</span>";a.push('<li id="'+e+'" class="'+t.type+'"><time datetime="'+p+'"><em>'+eventStringDate+"</em><small>"+C+":"+M+"</small></time>"+D+'<p class="eventDesc '+o+'">'+t.description+"</p></li>"),c++}f==l.wrap.attr("data-current-year")&&w==l.wrap.attr("data-current-month")&&l.wrap.find(".currentMonth .eventsCalendar-daysList #dayList_"+parseInt(m)).addClass("dayWithEvents")})}a.length||a.push('<li class="eventsCalendar-noEvents"><p>'+u.txt_noEvents+"</p></li>"),l.wrap.find(".eventsCalendar-loading").hide(),l.wrap.find(".eventsCalendar-list").html(a.join("")),l.wrap.find(".eventsCalendar-list").animate({opacity:1,height:"toggle"},u.moveSpeed)}),d()}function i(){l.wrap.find(".arrow").click(function(e){if(e.preventDefault(),$(this).hasClass("next")){n("next");var t="-="+l.directionLeftMove}else{n("prev");var t="+="+l.directionLeftMove}l.wrap.find(".eventsCalendar-monthWrap.oldMonth").animate({opacity:u.moveOpacity,left:t},u.moveSpeed,function(){l.wrap.find(".eventsCalendar-monthWrap.oldMonth").remove()})})}function o(e){l.wrap.find(".eventsCalendar-list-wrap").html("<span class='eventsCalendar-loading error'>"+e+" "+u.eventsjson+"</span>")}function d(){l.directionLeftMove=l.wrap.width(),l.wrap.find(".eventsCalendar-monthWrap").width(l.wrap.width()+"px"),l.wrap.find(".eventsCalendar-list-wrap").width(l.wrap.width()+"px")}var u=$.extend({},$.fn.eventCalendar.defaults,e),l={wrap:"",directionLeftMove:"300",eventsJson:{}};this.each(function(){l.wrap=$(this),l.wrap.addClass("eventCalendar-wrap").append("<div class='eventsCalendar-list-wrap'><p class='eventsCalendar-subtitle'></p><span class='eventsCalendar-loading'>loading...</span><div class='eventsCalendar-list-content'><ul class='eventsCalendar-list'></ul></div></div>"),u.eventsScrollable&&l.wrap.find(".eventsCalendar-list-content").addClass("scrollable"),d(),$(window).resize(function(){d()}),n("current"),r(u.eventsLimit,!1,!1,!1,!1),i(),l.wrap.on("click",".eventsCalendar-day a",function(e){e.preventDefault();var t=l.wrap.attr("data-current-year"),n=l.wrap.attr("data-current-month"),a=$(this).parent().attr("rel");r(!1,t,n,a,"day")}),l.wrap.on("click",".monthTitle",function(e){e.preventDefault();var t=l.wrap.attr("data-current-year"),n=l.wrap.attr("data-current-month");r(u.eventsLimit,t,n,!1,"month")})}),l.wrap.find(".eventsCalendar-list").on("click",".eventTitle",function(e){if(!u.showDescription){e.preventDefault();var t=$(this).parent().find(".eventDesc");if(!t.find("a").size()){var n=$(this).attr("href"),a=$(this).attr("target");t.append('<a href="'+n+'" target="'+a+'" class="bt">'+u.txt_GoToEventUrl+"</a>")}t.is(":visible")?t.slideUp():(u.onlyOneDescription&&l.wrap.find(".eventDesc").slideUp(),t.slideDown())}})},$.fn.eventCalendar.defaults={eventsjson:"js/events.json",eventsLimit:4,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],txt_noEvents:"There are no events in this period",txt_SpecificEvents_prev:"",txt_SpecificEvents_after:"events:",txt_next:"next",txt_prev:"prev",txt_NextEvents:"Next events:",txt_GoToEventUrl:"See the event",showDayAsWeeks:!0,startWeekOnMonday:!0,showDayNameInCalendar:!0,showDescription:!1,onlyOneDescription:!0,openEventInNewWindow:!1,eventsScrollable:!1,jsonDateFormat:"timestamp",moveSpeed:500,moveOpacity:.15,jsonData:"",cacheJson:!0};var viewport=updateViewportDimensions(),waitForFinalEvent=function(){var e={};return function(t,n,a){a||(a="Don't call this twice without a uniqueId"),e[a]&&clearTimeout(e[a]),e[a]=setTimeout(t,n)}}(),timeToWaitForLast=100;setInterval(function(){jQuery("a.scrolldown").toggleClass("active")},1e3),jQuery(document).ready(function($){loadGravatars();var e=$("#container").offset().top;$(window).scroll(function(){var t=$(window).scrollTop();t>=e?$("nav.main-nav").css({position:"fixed",top:"0px",bottom:"auto"}).addClass("fixed"):$("nav.main-nav").css({position:"absolute",top:"auto",bottom:"0px"}).removeClass("fixed")}),$("#scrolldownHome").on("click",function(){var e=$("#container").offset().top;return $("html,body").animate({scrollTop:e},800,"easeInOutCubic"),!1}),$(".btn_top").click(function(){return $("html,body").animate({scrollTop:0},"fast"),!1})});